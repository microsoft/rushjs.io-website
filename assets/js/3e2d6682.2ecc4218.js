"use strict";(self.webpackChunkrushjs_io=self.webpackChunkrushjs_io||[]).push([[887],{158:(e,t,n)=>{n.d(t,{Zo:()=>u,kt:()=>d});var r=n(6393);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function i(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var p=r.createContext({}),l=function(e){var t=r.useContext(p),n=t;return e&&(n="function"==typeof e?e(t):o(o({},t),e)),n},u=function(e){var t=l(e.components);return r.createElement(p.Provider,{value:t},e.children)},m={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},c=r.forwardRef((function(e,t){var n=e.components,a=e.mdxType,s=e.originalType,p=e.parentName,u=i(e,["components","mdxType","originalType","parentName"]),c=l(n),d=a,h=c["".concat(p,".").concat(d)]||c[d]||m[d]||s;return n?r.createElement(h,o(o({ref:t},u),{},{components:n})):r.createElement(h,o({ref:t},u))}));function d(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var s=n.length,o=new Array(s);o[0]=c;var i={};for(var p in t)hasOwnProperty.call(t,p)&&(i[p]=t[p]);i.originalType=e,i.mdxType="string"==typeof e?e:a,o[1]=i;for(var l=2;l<s;l++)o[l]=n[l];return r.createElement.apply(null,o)}return r.createElement.apply(null,n)}c.displayName="MDXCreateElement"},4667:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>u,contentTitle:()=>p,default:()=>d,frontMatter:()=>i,metadata:()=>l,toc:()=>m});var r=n(216),a=n(2228),s=(n(6393),n(158)),o=["components"],i={title:"rushx"},p=void 0,l={unversionedId:"pages/commands/rushx",id:"pages/commands/rushx",title:"rushx",description:"The rushx command is similar to npm run or pnpm run: It invokes a shell script that is defined in the",source:"@site/docs/pages/commands/rushx.md",sourceDirName:"pages/commands",slug:"/pages/commands/rushx",permalink:"/pages/commands/rushx",draft:!1,editUrl:"https://github.com/microsoft/rushstack-websites/tree/main/websites/rushjs.io/docs/pages/commands/rushx.md",tags:[],version:"current",frontMatter:{title:"rushx"},sidebar:"docsSidebar",previous:{title:'The "rush-lib" API',permalink:"/pages/extensibility/api"},next:{title:"rush-pnpm",permalink:"/pages/commands/rush-pnpm"}},u={},m=[{value:"rush vs rushx",id:"rush-vs-rushx",level:2},{value:"Why use &quot;rushx&quot; instead of &quot;pnpm run&quot; or &quot;npx&quot;?",id:"why-use-rushx-instead-of-pnpm-run-or-npx",level:2}],c={toc:m};function d(e){var t=e.components,n=(0,a.Z)(e,o);return(0,s.kt)("wrapper",(0,r.Z)({},c,n,{components:t,mdxType:"MDXLayout"}),(0,s.kt)("p",null,"The ",(0,s.kt)("inlineCode",{parentName:"p"},"rushx")," command is similar to ",(0,s.kt)("inlineCode",{parentName:"p"},"npm run")," or ",(0,s.kt)("inlineCode",{parentName:"p"},"pnpm run"),": It invokes a shell script that is defined in the\n",(0,s.kt)("inlineCode",{parentName:"p"},'"scripts"')," section of the ",(0,s.kt)("strong",{parentName:"p"},"package.json")," file for an individual project. Any additional CLI parameters\nare passed only to that shell script without any validation."),(0,s.kt)("p",null,"Consider this very simple example project:"),(0,s.kt)("p",null,(0,s.kt)("strong",{parentName:"p"},"<","my project",">","/package.json")),(0,s.kt)("pre",null,(0,s.kt)("code",{parentName:"pre",className:"language-js"},'{\n  "name": "my-project",\n  "version": "0.0.0",\n  "scripts": {\n    "build": "rm -Rf lib && tsc",\n    "test": "jest"\n  }\n}\n')),(0,s.kt)("p",null,"If you invoke ",(0,s.kt)("inlineCode",{parentName:"p"},"rushx")," alone, it will simply display the available commands:"),(0,s.kt)("pre",null,(0,s.kt)("code",{parentName:"pre"},'usage: rushx [-h]\n       rushx [-q/--quiet] <command> ...\n\nOptional arguments:\n  -h, --help            Show this help message and exit.\n  -q, --quiet           Hide rushx startup information.\n\nProject commands for my-project:\n  build: "rm -Rf lib && tsc"\n  test:  "jest"\n')),(0,s.kt)("p",null,"If you invoke ",(0,s.kt)("inlineCode",{parentName:"p"},"rushx build"),", then it would run ",(0,s.kt)("inlineCode",{parentName:"p"},"rm -Rf lib && tsc"),". If you add a parameter such as\n",(0,s.kt)("inlineCode",{parentName:"p"},"rushx build --verbose"),", it is blindly appended to the end of the string: ",(0,s.kt)("inlineCode",{parentName:"p"},"rm -Rf lib && tsc --verbose"),"."),(0,s.kt)("h2",{id:"rush-vs-rushx"},"rush vs rushx"),(0,s.kt)("p",null,"It's easy to confuse these two commands:"),(0,s.kt)("ul",null,(0,s.kt)("li",{parentName:"ul"},(0,s.kt)("strong",{parentName:"li"},"rush"),' invokes a generic operation that affects the entire repo ("global commands") or else affects multiple projects ("bulk commands"). Such commands ',(0,s.kt)("a",{parentName:"li",href:"/pages/maintainer/custom_commands"},"should be carefully designed"),". Rush enforces that their parameters must be validated and documented."),(0,s.kt)("li",{parentName:"ul"},(0,s.kt)("strong",{parentName:"li"},"rushx")," performs custom operations for one single project. Although some of these are used to implement bulk commands, many of them will be helper scripts that are understood only by the developers of that particular project. Rush does not rigorously validate these commands.")),(0,s.kt)("h2",{id:"why-use-rushx-instead-of-pnpm-run-or-npx"},'Why use "rushx" instead of "pnpm run" or "npx"?'),(0,s.kt)("p",null,"The ",(0,s.kt)("inlineCode",{parentName:"p"},"rushx")," command has similar functionality as ",(0,s.kt)("inlineCode",{parentName:"p"},"pnpm run")," or ",(0,s.kt)("inlineCode",{parentName:"p"},"npx"),", but with some additional benefits:"),(0,s.kt)("ul",null,(0,s.kt)("li",{parentName:"ul"},"Ensures deterministic tooling by using the ",(0,s.kt)("a",{parentName:"li",href:"/pages/contributing"},"Rush version selector")),(0,s.kt)("li",{parentName:"ul"},"Prepares the shell environment based on Rush's configuration"),(0,s.kt)("li",{parentName:"ul"},"Implements additional validations")))}d.isMDXComponent=!0}}]);