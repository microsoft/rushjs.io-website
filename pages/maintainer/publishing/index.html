<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-pages/maintainer/publishing">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.1">
<link rel="search" type="application/opensearchdescription+xml" title="Rush" href="/opensearch.xml">

<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Lato:300,400,700,300italic,400italic,700italic"><title data-rh="true">Publishing packages | Rush</title><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://rushjs.io/images/site/rush-ograph.jpg"><meta data-rh="true" name="twitter:image" content="https://rushjs.io/images/site/rush-ograph.jpg"><meta data-rh="true" property="og:url" content="https://rushjs.io/pages/maintainer/publishing/"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Publishing packages | Rush"><meta data-rh="true" name="description" content="There are two stages in a Rush publishing flow. The first stage is during development. Developers are asked to provide change files to track changes that deserve a space in change log. The second stage is at publishing time. Rush can be used to gather all change files to increase version, update change log, and publish new packages to a npm registry."><meta data-rh="true" property="og:description" content="There are two stages in a Rush publishing flow. The first stage is during development. Developers are asked to provide change files to track changes that deserve a space in change log. The second stage is at publishing time. Rush can be used to gather all change files to increase version, update change log, and publish new packages to a npm registry."><link data-rh="true" rel="icon" href="/images/site/favicon.ico"><link data-rh="true" rel="canonical" href="https://rushjs.io/pages/maintainer/publishing/"><link data-rh="true" rel="alternate" href="https://rushjs.io/pages/maintainer/publishing/" hreflang="en"><link data-rh="true" rel="alternate" href="https://rushjs.io/zh-cn/pages/maintainer/publishing/" hreflang="zh-cn"><link data-rh="true" rel="alternate" href="https://rushjs.io/pages/maintainer/publishing/" hreflang="x-default"><link rel="stylesheet" href="/assets/css/styles.a4bef34c.css">
<link rel="preload" href="/assets/js/runtime~main.128141bc.js" as="script">
<link rel="preload" href="/assets/js/main.412208e3.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div class="suiteNavBar_rHPh"><div role="button" class="hamburger_AuD3 hamburgerInteraction_B9ML"><img src="/images/suitenav/rs-hamburger.svg"></div><div class="hamburgerDivider_zNDB"></div><a href="https://rushstack.io/pages/overview/roadmap/" class="suiteNavItem_tL2w">Roadmap</a><a href="https://rushstack.io/pages/shop/" class="suiteNavItem_tL2w">Shop</a><a href="https://rushstack.io/community/events/" class="suiteNavItem_tL2w">Events</a></div><div role="region"><a href="#" class="skipToContent_yHtx">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/images/rush-horiz.svg" alt="Rush" class="themedImage_xqNz themedImage--light_NH9z"><img src="/images/rush-horiz.svg" alt="Rush" class="themedImage_xqNz themedImage--dark_aoV8"></div><b class="navbar__title text--truncate"></b></a><div class="navbar__item dropdown dropdown--hoverable"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link"><svg viewBox="0 0 24 24" width="20" height="20" aria-hidden="true" class="iconLanguage_Do5L"><path fill="currentColor" d="M12.87 15.07l-2.54-2.51.03-.03c1.74-1.94 2.98-4.17 3.71-6.53H17V4h-7V2H8v2H1v1.99h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11.76-2.04zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2l-4.5-12zm-2.62 7l1.62-4.33L19.12 17h-3.24z"></path></svg>English</a><ul class="dropdown__menu"><li><a href="/pages/maintainer/publishing/" target="_self" rel="noopener noreferrer" class="dropdown__link dropdown__link--active">English</a></li><li><a href="/zh-cn/pages/maintainer/publishing/" target="_self" rel="noopener noreferrer" class="dropdown__link">中文（中国）</a></li></ul></div></div><div class="navbar__items navbar__items--right"><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/pages/intro/welcome/">Docs</a><a class="navbar__item navbar__link" href="/pages/news/">News</a><a class="navbar__item navbar__link" href="/pages/extensibility/api/">API</a><a class="navbar__item navbar__link" href="/pages/contributing/">GitHub</a><a class="navbar__item navbar__link" href="/pages/help/support/">Help</a><div class="toggle_k0_B colorModeToggle_EHC3"><button class="clean-btn toggleButton_DDHC toggleButtonDisabled_papd" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_RaI1"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_HWlj"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_Royc"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper mainWrapper_jj2R docsWrapper__pZK"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_iDCD" type="button"></button><div class="docPage_mREL"><aside class="theme-doc-sidebar-container docSidebarContainer_RfV8"><div class="sidebar_khl0"><nav class="menu thin-scrollbar menu_usJe"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link">Introduction</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/pages/intro/welcome/">Welcome to Rush!</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/pages/intro/why_mono/">Why one big repo⁈</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/pages/intro/get_started/">Getting started</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link">Developer tutorials</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/pages/developer/new_developer/">Getting started as a developer</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/pages/developer/everyday_commands/">Everyday commands</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/pages/developer/modifying_package_json/">Modifying package.json</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/pages/developer/other_commands/">Other helpful commands</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/pages/developer/tab_completion/">Configuring tab completion</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/pages/developer/selecting_subsets/">Selecting subsets of projects</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/pages/developer/project_tags/">Using project tags</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--active">Maintainer tutorials</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/pages/maintainer/setup_new_repo/">Setting up a new repo</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/pages/maintainer/add_to_repo/">Adding projects to a repo</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/pages/maintainer/enabling_ci_builds/">Enabling CI builds</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/pages/maintainer/recommended_settings/">Recommended settings</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/pages/maintainer/package_managers/">NPM vs PNPM vs Yarn</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/pages/maintainer/setup_policies/">Enabling policies</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/pages/maintainer/git_hooks/">Installing Git hooks</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/pages/maintainer/enabling_prettier/">Enabling Prettier</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/pages/maintainer/custom_commands/">Custom commands</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/pages/maintainer/autoinstallers/">Autoinstallers</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/pages/maintainer/using_rush_plugins/">Using Rush plugins (experimental)</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/pages/maintainer/publishing/">Publishing packages</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/pages/maintainer/deploying/">Deploying projects</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/pages/maintainer/build_cache/">Enabling the build cache</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/pages/maintainer/phased_builds/">Enabling phased builds (experimental)</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/pages/maintainer/npm_registry_auth/">NPM registry authentication</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link">Best practices</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/pages/best_practices/change_logs/">Authoring change logs</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link">Advanced topics</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/pages/advanced/rush_files_and_folders/">Rush files and folders</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/pages/advanced/phantom_deps/">Phantom dependencies</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/pages/advanced/npm_doppelgangers/">NPM doppelgangers</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/pages/advanced/compatibility_db/">PNPM Compatibility DB</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/pages/advanced/preferred_versions/">Preferred versions</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/pages/advanced/incremental_builds/">Incremental builds</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/pages/advanced/watch_mode/">Using watch mode</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/pages/advanced/installation_variants/">Installation variants</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link">Extensibility</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/pages/extensibility/creating_plugins/">Creating Rush plugins (experimental)</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/pages/extensibility/api/">The &quot;rush-lib&quot; API</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link">Command reference</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/pages/commands/rushx/">rushx</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/pages/commands/rush-pnpm/">rush-pnpm</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/pages/commands/rush_add/">rush add</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/pages/commands/rush_build/">rush build</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/pages/commands/rush_change/">rush change</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/pages/commands/rush_check/">rush check</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/pages/commands/rush_deploy/">rush deploy</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/pages/commands/rush_init/">rush init</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/pages/commands/rush_init-autoinstaller/">rush init-autoinstaller</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/pages/commands/rush_init-deploy/">rush init-deploy</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/pages/commands/rush_install/">rush install</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/pages/commands/rush_link/">rush link</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/pages/commands/rush_list/">rush list</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/pages/commands/rush_publish/">rush publish</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/pages/commands/rush_purge/">rush purge</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/pages/commands/rush_rebuild/">rush rebuild</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/pages/commands/rush_remove/">rush remove</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/pages/commands/rush_scan/">rush scan</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/pages/commands/rush_setup/">rush setup (experimental)</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/pages/commands/rush_tab-complete/">rush tab-complete</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/pages/commands/rush_unlink/">rush unlink</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/pages/commands/rush_update/">rush update</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/pages/commands/rush_update-autoinstaller/">rush update-autoinstaller</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/pages/commands/rush_update-cloud-credentials/">rush update-cloud-credentials (experimental)</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/pages/commands/rush_upgrade-interactive/">rush upgrade-interactive</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/pages/commands/rush_version/">rush version</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link">Config reference</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/pages/configs/environment_vars/">Environment variables</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/pages/configs/npmrc/">.npmrc</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/pages/configs/npmrc-publish/">.npmrc-publish</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/pages/configs/pnpmfile_cjs/">.pnpmfile.cjs</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/pages/configs/artifactory_json/">artifactory.json (experimental)</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/pages/configs/build-cache_json/">build-cache.json (experimental)</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/pages/configs/command-line_json/">command-line.json</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/pages/configs/common-versions_json/">common-versions.json</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/pages/configs/deploy_json/">deploy.json</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/pages/configs/experiments_json/">experiments.json</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/pages/configs/pnpm-config_json/">pnpm-config.json</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/pages/configs/rush_json/">rush.json</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/pages/configs/rush-plugin-manifest_json/">rush-plugin-manifest.json (experimental)</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/pages/configs/rush-plugins_json/">rush-plugins.json (experimental)</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/pages/configs/rush-project_json/">rush-project.json (experimental)</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/pages/configs/version-policies_json/">version-policies.json</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link">Help</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/pages/help/support/">Getting support</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/pages/help/faq/">Frequently Asked Questions (FAQ)</a></li></ul></li></ul></nav></div></aside><main class="docMainContainer_Spkt"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_B0FM"><div class="docItemContainer_urdu"><article><div class="tocCollapsible_fai6 theme-doc-toc-mobile tocMobile_AbM5"><button type="button" class="clean-btn tocCollapsibleButton_Vjdw">On this page</button></div><div class="theme-doc-markdown markdown"><h1>How to use Rush in your build flow to automate publishing of updated packages</h1><p>There are two stages in a Rush publishing flow. The first stage is during development. Developers are asked to provide change files to track changes that deserve a space in change log. The second stage is at publishing time. Rush can be used to gather all change files to increase version, update change log, and publish new packages to a npm registry.</p><h2 class="anchor anchorWithStickyNavbar_SLHE" id="1-track-changes">1. Track Changes<a class="hash-link" href="#1-track-changes" title="Direct link to heading">​</a></h2><p>Only changes to public packages need to be tracked. People can control which package should get published and which package should not get published in rush.json by specifying field <a href="/pages/maintainer/setup_new_repo/">shouldPublish</a>. Once public packages have been defined, repo admins can enforce developers to provide change files if they have modified any public packages. Developers can use a tool to generate change files after answering a few questions.</p><h3 class="anchor anchorWithStickyNavbar_SLHE" id="how-to-enforce-developers-to-provide-change-files">How to enforce developers to provide change files<a class="hash-link" href="#how-to-enforce-developers-to-provide-change-files" title="Direct link to heading">​</a></h3><div class="codeBlockContainer_rOsD theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_RK14"><pre tabindex="0" class="prism-code language-text codeBlock_O81Q thin-scrollbar"><code class="codeBlockLines_oxQH"><span class="token-line" style="color:#393A34"><span class="token plain">rush change --verify</span><br></span></code></pre><div class="buttonGroup_U8U_"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_ZlfJ" aria-hidden="true"><svg class="copyButtonIcon_Yhmw" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_vhcl" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>This command fails if a developer modifies a public package without providing related change files. It is recommended to add this command as a step of CI builds so that build fails when change files are missing.</p><h3 class="anchor anchorWithStickyNavbar_SLHE" id="how-a-developer-generates-change-files">How a developer generates change files<a class="hash-link" href="#how-a-developer-generates-change-files" title="Direct link to heading">​</a></h3><div class="codeBlockContainer_rOsD theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_RK14"><pre tabindex="0" class="prism-code language-text codeBlock_O81Q thin-scrollbar"><code class="codeBlockLines_oxQH"><span class="token-line" style="color:#393A34"><span class="token plain">rush change</span><br></span></code></pre><div class="buttonGroup_U8U_"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_ZlfJ" aria-hidden="true"><svg class="copyButtonIcon_Yhmw" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_vhcl" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Running <code>rush change</code> will prompt a developer with a few questions and generate appropriate change files after questions have been answered. A change file contains what type of version increase this change needs and a description of the change. The change file should be committed with related changes into the repo.</p><h2 class="anchor anchorWithStickyNavbar_SLHE" id="2-publish-packages">2. Publish packages<a class="hash-link" href="#2-publish-packages" title="Direct link to heading">​</a></h2><div class="codeBlockContainer_rOsD theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_RK14"><pre tabindex="0" class="prism-code language-text codeBlock_O81Q thin-scrollbar"><code class="codeBlockLines_oxQH"><span class="token-line" style="color:#393A34"><span class="token plain">rush publish</span><br></span></code></pre><div class="buttonGroup_U8U_"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_ZlfJ" aria-hidden="true"><svg class="copyButtonIcon_Yhmw" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_vhcl" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>When it is time to publish updated packages, <code>rush publish</code> is the command that increases package version and publish updated packages. It does quite a few things internally to make it happen: gather all change files to figure out what kind of version increase is needed, what packages need to have version increase, increase the versions of dependencies, clean up change files, and so on.</p><p>This command should have its own build definition. So people can just trigger it to run when it is time to publish packages.</p><p><code>rush publish</code> is configurable to serve difference purposes. For example, it supports a dry run mode so that the changes can be verified and tested before real publishing. More usage cases are listed here:</p><h3 class="anchor anchorWithStickyNavbar_SLHE" id="dry-run-mode">Dry run mode<a class="hash-link" href="#dry-run-mode" title="Direct link to heading">​</a></h3><p><code>rush publish</code> has several flavors of dry runs that allow you to execute intermediate steps of the publish process without actually publishing to an npm registry. This can be useful for testing as well as for creating version bumps and changelogs in situations where this is no external package repository in use for publishing.</p><div class="codeBlockContainer_rOsD theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_RK14"><pre tabindex="0" class="prism-code language-text codeBlock_O81Q thin-scrollbar"><code class="codeBlockLines_oxQH"><span class="token-line" style="color:#393A34"><span class="token plain">rush publish</span><br></span></code></pre><div class="buttonGroup_U8U_"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_ZlfJ" aria-hidden="true"><svg class="copyButtonIcon_Yhmw" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_vhcl" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>When run without any parameters, this does the whole process in a read-only mode, which means the changes are not saved to disk, not committed to the source repository, and packages are not really published. It is useful if you want to check if the version increases and change log updates look right for you.</p><div class="codeBlockContainer_rOsD theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_RK14"><pre tabindex="0" class="prism-code language-text codeBlock_O81Q thin-scrollbar"><code class="codeBlockLines_oxQH"><span class="token-line" style="color:#393A34"><span class="token plain">rush publish --apply</span><br></span></code></pre><div class="buttonGroup_U8U_"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_ZlfJ" aria-hidden="true"><svg class="copyButtonIcon_Yhmw" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_vhcl" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>In this mode the changes are added to the changelog files and the package.json files are updated with new version numbers and written to disk, but nothing is actually committed to the source repository or published. This is useful if you want to review or edit any of these files before committing to the source repository or publishing to the package repository.</p><div class="codeBlockContainer_rOsD theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_RK14"><pre tabindex="0" class="prism-code language-text codeBlock_O81Q thin-scrollbar"><code class="codeBlockLines_oxQH"><span class="token-line" style="color:#393A34"><span class="token plain">rush publish --apply --target-branch targetBranch</span><br></span></code></pre><div class="buttonGroup_U8U_"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_ZlfJ" aria-hidden="true"><svg class="copyButtonIcon_Yhmw" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_vhcl" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>In this mode, the changes above are actually committed to a new git branch (prefixed with <code>publish-</code>) that is based off of <code>targetBranch</code>. Running this command with <code>targetBranch</code> set to the branch specified in <code>repository.defaultBranch</code> will effectively do everything that a &quot;live&quot; publish would do (including commits to git source), short of actually publishing to an npm repository.</p><h3 class="anchor anchorWithStickyNavbar_SLHE" id="publish-mode">Publish mode<a class="hash-link" href="#publish-mode" title="Direct link to heading">​</a></h3><p>There are extra parameters for configuring the publishing process: which registry to publish to, what token to use, and whether to include commit details.</p><div class="codeBlockContainer_rOsD theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_RK14"><pre tabindex="0" class="prism-code language-text codeBlock_O81Q thin-scrollbar"><code class="codeBlockLines_oxQH"><span class="token-line" style="color:#393A34"><span class="token plain">rush publish --apply --target-branch targetBranch --publish</span><br></span></code></pre><div class="buttonGroup_U8U_"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_ZlfJ" aria-hidden="true"><svg class="copyButtonIcon_Yhmw" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_vhcl" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>This command increases versions, commit changes to targetBranch, and publish packages to a registry based on environmental npm registry value.</p><div class="codeBlockContainer_rOsD theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_RK14"><pre tabindex="0" class="prism-code language-text codeBlock_O81Q thin-scrollbar"><code class="codeBlockLines_oxQH"><span class="token-line" style="color:#393A34"><span class="token plain">rush publish --apply --target-branch targetBranch --publish --registry registryUrl --npm-auth-token npmToken</span><br></span></code></pre><div class="buttonGroup_U8U_"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_ZlfJ" aria-hidden="true"><svg class="copyButtonIcon_Yhmw" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_vhcl" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>In addition to what previous command can do, this command allows packages to be published to the specified registry with a specified npm token.</p><div class="codeBlockContainer_rOsD theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_RK14"><pre tabindex="0" class="prism-code language-text codeBlock_O81Q thin-scrollbar"><code class="codeBlockLines_oxQH"><span class="token-line" style="color:#393A34"><span class="token plain">rush publish --apply --target-branch targetBranch --publish --registry registryUrl --npm-auth-token npmToken --add-commit-details</span><br></span></code></pre><div class="buttonGroup_U8U_"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_ZlfJ" aria-hidden="true"><svg class="copyButtonIcon_Yhmw" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_vhcl" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>In addition to what previous command can do, This command will include commit details in the change logs.</p><h3 class="anchor anchorWithStickyNavbar_SLHE" id="pack-mode">Pack mode<a class="hash-link" href="#pack-mode" title="Direct link to heading">​</a></h3><p>Instead of publishing, you also have the option to pack the outputs locally into <code>.tgz</code> files.</p><div class="codeBlockContainer_rOsD theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_RK14"><pre tabindex="0" class="prism-code language-text codeBlock_O81Q thin-scrollbar"><code class="codeBlockLines_oxQH"><span class="token-line" style="color:#393A34"><span class="token plain">rush publish --pack --include-all --publish</span><br></span></code></pre><div class="buttonGroup_U8U_"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_ZlfJ" aria-hidden="true"><svg class="copyButtonIcon_Yhmw" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_vhcl" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><blockquote><p>Note: Any command that uses the <code>--publish</code> flag will disable dry mode, which allows writing the file contents to the disk.</p><p>You can also use this command in combination with <code>--release-folder</code> to hint where the files should be outputted.</p></blockquote><h2 class="anchor anchorWithStickyNavbar_SLHE" id="3-version-policy">3. Version Policy<a class="hash-link" href="#3-version-policy" title="Direct link to heading">​</a></h2><p>Version policy is a new concept introduced into Rush to solve the problem of how to notify packages to do different types of version increase when the number of packages is large. For example, <code>@microsoft/rush</code> and <code>@microsoft/rush-lib</code> are always published together and use the same version. Those two versions should always be increased together. Another example is that developers can create different branches to service different major versions. People should not be able to modify the major version in that branch. Version policy solves this kind of problems by defining different policies, one enforcing that <code>rush</code> and <code>rush-lib</code> always have the same version and the other locking the major version in a branch.</p><h3 class="anchor anchorWithStickyNavbar_SLHE" id="what-is-a-version-policy">What is a version policy?<a class="hash-link" href="#what-is-a-version-policy" title="Direct link to heading">​</a></h3><p>A version policy is set of rules that define how the version should be increased. It is defined in <strong>common/config/rush/version-policies.json</strong>. An example can be found in <a href="https://github.com/microsoft/rushstack/blob/master/common/config/rush/version-policies.json" target="_blank" rel="noopener noreferrer">here</a>. A public package specifies what version policy it is associated with by providing <code>versionPolicyName</code> in <strong>rush.json</strong>. An example can be found in <a href="https://github.com/microsoft/rushstack/blob/master/rush.json#L46" target="_blank" rel="noopener noreferrer">Rush and Rush-lib configuration</a>. Multiple packages can use one version policy if they all follow the same rules. When a package is associated with a version policy, it becomes public and can be published when <code>rush publish</code> runs.</p><p>The schema of <strong>version-policies.json</strong> is defined <a href="https://github.com/microsoft/rushstack/blob/main/libraries/rush-lib/src/schemas/version-policies.schema.json" target="_blank" rel="noopener noreferrer">here</a>.</p><h3 class="anchor anchorWithStickyNavbar_SLHE" id="two-types-of-version-policies">Two types of version policies<a class="hash-link" href="#two-types-of-version-policies" title="Direct link to heading">​</a></h3><p>There are currently two types of version policies supported: lockstep version policy and individual version policy. Projects using one lockstep version policy all have the same version. Projects using an individual version policy get version increased according to their change files and the restrictions of the policy. For example, if an individual version policy has a locked major version, all packages using this policy will have their major version locked.</p><div class="codeBlockContainer_rOsD theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_RK14"><pre tabindex="0" class="prism-code language-text codeBlock_O81Q thin-scrollbar"><code class="codeBlockLines_oxQH"><span class="token-line" style="color:#393A34"><span class="token plain">[</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;policyName&quot;: &quot;myPublic&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;definitionName&quot;: &quot;lockStepVersion&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;version&quot;: &quot;1.0.0-dev.6&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;nextBump&quot;: &quot;prerelease&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;policyName&quot;: &quot;myInternal&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;definitionName&quot;: &quot;individualVersion&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;lockedMajor&quot;: 3</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">]</span><br></span></code></pre><div class="buttonGroup_U8U_"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_ZlfJ" aria-hidden="true"><svg class="copyButtonIcon_Yhmw" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_vhcl" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_SLHE" id="publishing-process-when-version-policies-are-used">Publishing process when version policies are used<a class="hash-link" href="#publishing-process-when-version-policies-are-used" title="Direct link to heading">​</a></h3><p>You need two steps to publish your packages when version policies are used. The first step is to increase the package versions. And the second step is to publish the packages. The reason to break up publishing into two steps is that it is very often that you need to test the packages after version increase and before package publishing.</p><h4 class="anchor anchorWithStickyNavbar_SLHE" id="command-to-increase-version">Command to increase version<a class="hash-link" href="#command-to-increase-version" title="Direct link to heading">​</a></h4><p><code>rush version --bump</code></p><p>Running <code>rush version --bump</code> will increase package versions based on their associated version policies.</p><h4 class="anchor anchorWithStickyNavbar_SLHE" id="command-to-publish-packages">Command to publish packages<a class="hash-link" href="#command-to-publish-packages" title="Direct link to heading">​</a></h4><p><code>rush publish --include-all</code></p><p>Running <code>rush publish --include-all</code> will publish all the public packages that have version increased.</p><h2 class="anchor anchorWithStickyNavbar_SLHE" id="4-summary">4. Summary<a class="hash-link" href="#4-summary" title="Direct link to heading">​</a></h2><p>In summary, you can use Rush to automate the whole publishing flow for your repo.</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/microsoft/rushstack-websites/tree/main/websites/rushjs.io/docs/pages/maintainer/publishing.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_BLyC" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_w8CT"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="/pages/maintainer/using_rush_plugins/"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Using Rush plugins (experimental)</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/pages/maintainer/deploying/"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Deploying projects</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_PJGn thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#1-track-changes" class="table-of-contents__link toc-highlight">1. Track Changes</a><ul><li><a href="#how-to-enforce-developers-to-provide-change-files" class="table-of-contents__link toc-highlight">How to enforce developers to provide change files</a></li><li><a href="#how-a-developer-generates-change-files" class="table-of-contents__link toc-highlight">How a developer generates change files</a></li></ul></li><li><a href="#2-publish-packages" class="table-of-contents__link toc-highlight">2. Publish packages</a><ul><li><a href="#dry-run-mode" class="table-of-contents__link toc-highlight">Dry run mode</a></li><li><a href="#publish-mode" class="table-of-contents__link toc-highlight">Publish mode</a></li><li><a href="#pack-mode" class="table-of-contents__link toc-highlight">Pack mode</a></li></ul></li><li><a href="#3-version-policy" class="table-of-contents__link toc-highlight">3. Version Policy</a><ul><li><a href="#what-is-a-version-policy" class="table-of-contents__link toc-highlight">What is a version policy?</a></li><li><a href="#two-types-of-version-policies" class="table-of-contents__link toc-highlight">Two types of version policies</a></li><li><a href="#publishing-process-when-version-policies-are-used" class="table-of-contents__link toc-highlight">Publishing process when version policies are used</a></li></ul></li><li><a href="#4-summary" class="table-of-contents__link toc-highlight">4. Summary</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="footer__bottom text--center"><div class="footer__copyright">© 2023 Microsoft</div></div></div></footer></div>
<script src="/assets/js/runtime~main.128141bc.js"></script>
<script src="/assets/js/main.412208e3.js"></script>
</body>
</html>